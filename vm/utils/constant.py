from eth_typing import (
    Hash32,
)
from eth_typing import (
    Address,
    BlockNumber,
    Hash32,
)

CREATE_CONTRACT_ADDRESS = Address(b"")

UINT_64_MAX = 2**64 - 1
UINT_255_MAX = 2**255 - 1
UINT_256_MAX = 2**256 - 1
UINT_256_CEILING = 2**256
UINT_255_CEILING = 2**255
UINT_255_NEGATIVE_ONE = -1 + UINT_256_CEILING
NULL_BYTE = b"\x00"
EMPTY_WORD = NULL_BYTE * 32

#
# Stack Limit
#
STACK_DEPTH_LIMIT = 1024


#
# Sha3 Keccak
#
EMPTY_SHA3 = Hash32(
    b"\xc5\xd2F\x01\x86\xf7#<\x92~}\xb2\xdc\xc7\x03\xc0\xe5\x00\xb6S\xca\x82';\x7b\xfa\xd8\x04]\x85\xa4p"  # noqa: E501
)
BLANK_ROOT_HASH = Hash32(
    b"V\xe8\x1f\x17\x1b\xccU\xa6\xff\x83E\xe6\x92\xc0\xf8n\x5bH\xe0\x1b\x99l\xad\xc0\x01b/\xb5\xe3c\xb4!"  # noqa: E501
)

#
# SECPK1N
#
SECPK1_P = 2**256 - 2**32 - 977
SECPK1_N = (
    115792089237316195423570985008687907852837564279074904382605163141518161494337
)
SECPK1_A = 0
SECPK1_B = 7
SECPK1_Gx = (
    55066263022277343669578718895168534326250603453777594175500187360389116729240
)
SECPK1_Gy = (
    32670510020758816978083085130507043184471273380659243275938904335757337482424
)
SECPK1_G = (SECPK1_Gx, SECPK1_Gy)

#
# BLOCKHASH opcode maximum depth
#
MAX_PREV_HEADER_DEPTH = 256


#
# Gas Costs and Refunds
#
GAS_NULL = 0
GAS_ZERO = 0
GAS_BASE = 2
GAS_VERYLOW = 3
GAS_LOW = 5
GAS_MID = 8
GAS_HIGH = 10
GAS_EXTCODE = 20
GAS_BALANCE = 20
GAS_SLOAD = 50
GAS_JUMPDEST = 1
GAS_SSET = 20000
GAS_SRESET = 5000

REFUND_SCLEAR = 15000

GAS_SELFDESTRUCT = 0
GAS_SELFDESTRUCT_NEWACCOUNT = 25000
GAS_CREATE = 32000
GAS_CALL = 40
GAS_CALLVALUE = 9000
GAS_CALLSTIPEND = 2300
GAS_NEWACCOUNT = 25000
GAS_EXP = 10
GAS_EXPBYTE = 10
GAS_MEMORY = 3
GAS_TXCREATE = 32000
GAS_TXDATAZERO = 4
GAS_TXDATANONZERO = 68
GAS_TX = 21000
GAS_LOG = 375
GAS_LOGDATA = 8
GAS_LOGTOPIC = 375
GAS_KECCAK256 = 30
GAS_SHA3WORD = 6
GAS_COPY = 3
GAS_BLOCKHASH = 20
GAS_CODEDEPOSIT = 200

GAS_MEMORY_QUADRATIC_DENOMINATOR = 512


#
# Pre-compile contract gas costs
#
GAS_SHA256 = 60
GAS_SHA256WORD = 12

GAS_RIPEMD160 = 600
GAS_RIPEMD160WORD = 120

GAS_IDENTITY = 15
GAS_IDENTITYWORD = 3

GAS_ECRECOVER = 3000

# EIP-1108:
GAS_ECADD = 150
GAS_ECMUL = 6000
GAS_ECPAIRING_BASE = 45_000
GAS_ECPAIRING_PER_POINT = 34_000

# EIP-4844
BLOB_TX_TYPE = 3
BYTES_PER_FIELD_ELEMENT = 32
FIELD_ELEMENTS_PER_BLOB = 4096
BLS_MODULUS = (
    52435875175126190479447740508185965837690552500527637822603658699938581184513
)
VERSIONED_HASH_VERSION_KZG = b"\x01"
POINT_EVALUATION_PRECOMPILE_ADDRESS = b"\n"
POINT_EVALUATION_PRECOMPILE_GAS = 50_000
MAX_BLOB_GAS_PER_BLOCK = 786_432
TARGET_BLOB_GAS_PER_BLOCK = 393_216
MIN_BLOB_BASE_FEE = 1
BLOB_BASE_FEE_UPDATE_FRACTION = 3_338_477
GAS_PER_BLOB = 2**17
HASH_OPCODE_GAS = 3
# EIP-7516
BASEFEE_OPCODE_GAS = 2
#
# Gas Costs and Refunds
#
GAS_SELFDESTRUCT_EIP150 = 5000
GAS_CALL_EIP150 = 700
GAS_EXTCODE_EIP150 = 700
GAS_BALANCE_EIP150 = 400
GAS_SLOAD_EIP150 = 200

# Cancun

TLOAD_COST = 100
TSTORE_COST = 100


# https://github.com/ethereum/EIPs/issues/160
GAS_EXP_EIP160 = 10
GAS_EXPBYTE_EIP160 = 50


# https://github.com/ethereum/EIPs/issues/170
EIP170_CODE_SIZE_LIMIT = 24576

# EIP 2565
GAS_MOD_EXP_QUADRATIC_DENOMINATOR_EIP_2565 = 3

# EIP 2929
WARM_STORAGE_READ_COST = 100
COLD_SLOAD_COST = 2100
COLD_ACCOUNT_ACCESS_COST = 2600

# https://eips.ethereum.org/EIPS/eip-3860
INITCODE_WORD_COST = 2
MAX_INITCODE_SIZE = EIP170_CODE_SIZE_LIMIT * 2

EIP3541_RESERVED_STARTING_BYTE = b"\xef"
